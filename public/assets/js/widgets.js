!function(window){"use strict";var bark=window.Bark=window.Bark||{},domLoaded=!1,eventHandler="addEventListener"in document?"addEventListener":"attachEvent",documentReadyEvent="addEventListener"===eventHandler?"DOMContentLoaded":"onreadystatechange",allStyles=window.getComputedStyle(document.documentElement,""),vendorPrefix=(Array.prototype.slice.call(allStyles).join("").match(/-(moz|webkit|ms)-/)||""===allStyles.OLink&&["","o"])[1],consts={BADGE_WIDTH_LARGE:256,BADGE_WIDTH_MEDIUM:192,BADGE_WIDTH_SMALL:128,FONT_SIZE_LARGE:18,FONT_SIZE_MEDIUM:16,FONT_SIZE_SMALL:12,MIN_BADGE_HEIGHT_LARGE:82,MIN_BADGE_HEIGHT_MEDIUM:60,MIN_BADGE_HEIGHT_SMALL:43},cache={pro:{},reviews:{},verified:{},coe:{}};function isDomElement(variable){return Object.prototype.toString.call(variable).match(/^\[object HTML.+Element\]$/)}function getHostnameFromCurrentName(){return location.hostname.match(/^([a-zA-Z0-9\-]+)(\.d)?\.bark\.com/)?location.hostname:"www.bark.com"}function f(selector,scope){var nodeList;if(scope&&"find"in scope&&"nodes"in scope&&"append"in scope?scope=scope.nodes[0]:scope||(scope=document),isDomElement(selector)){var key="barkfactory"+(new Date).getTime()+parseInt(Math.random());selector.setAttribute(key,!0),nodeList=scope.querySelectorAll("["+key+"]"),selector.removeAttribute(key)}else nodeList=scope.querySelectorAll(selector);return{append:function(html){return this.each((function(){isDomElement(html)?this.appendChild(html):this.innerHTML+=html})),this},css:function(styles){for(var i=0;i<this.length;i++){var x,DOMElement=this.nodes[i];for(x in styles){var jsKey=x.replace(/-([a-zA-Z])/g,(function(str){return str[1].toUpperCase()})),vendorKeyCSS=vendorPrefix+jsKey[0].toUpperCase()+jsKey.substr(1),key=jsKey in DOMElement.style?jsKey:vendorKeyCSS in DOMElement.style?vendorKeyCSS:jsKey;DOMElement.style[key]=styles[x]}}return this},setAttribute:function(key,value){return this.nodes[0].setAttribute(key,value)},attribute:function(key){return this.nodes[0].getAttribute(key)},data:function(key){try{return this.nodes[0].getAttribute("data-"+key)||void 0}catch(exception){return}},each:function(callback){for(var i=0;i<this.length;i++)callback&&callback.call(this.nodes[i],i)},find:function(selector){return f(selector,this.nodes[0])},html:function(_html){var newInnerHTML=_html;return isDomElement(_html)&&(newInnerHTML=_html.outerHTML),this.each((function(){this.innerHTML=newInnerHTML})),this},length:nodeList.length,nodes:nodeList,scope:scope,text:function(){return(this.nodes[0]||{}).textContent||""},width:function(){return this.nodes[0].getBoundingClientRect().width}}}function addReviewsSpecificElements(t,size,sellerHashId,data,name,version){void 0===version&&(version="2.0");var logo,href=t.nodes[0].href,nrtext=(getHostnameFromCurrentName(),((data.nreviews>1e3?"1K+":data.nreviews)||"No")+" review"+(1===data.nreviews?"":"s")),numReviews=data.nreviews&&data.showingstars&&"large"===size?'<span style="color: #1C2C3B;">'+nrtext+"</span>":"",vAlign="small"===size?"top":"middle",stars=data.image?'<img style="display: inline; max-height:'+("small"===size?12:18)+"px;max-width:80%;vertical-align:"+vAlign+';border:none;" src="'+data.image+'" />':"",container=t.find(".bark-top-container");href&&t.setAttribute("href",href+"?show_reviews=true&utm_medium=referral&utm_source="+sellerHashId+"&utm_campaign=seller-review-widget&utm_content=seller-review-widget"),stars||(stars="<p>Review me on Bark</p>"),"3.0"===version?container.append('<div class="bark-logo"><img src="https://d18jakcjgoan9.cloudfront.net/img/frontend-v2/settings/badges/Badgereviews-sm2.png"/></div>'):container.append('<div class="bark-logo"><img src="https://s3-eu-west-1.amazonaws.com/eu-bark-media/bark-logo-small.png"/></div>'),container.append('<div class="bark-reviews-stars">'+stars+numReviews+"</div>"),(logo=t.find(".bark-logo")).css({margin:"15px auto 10px",color:"#1C2C3B"}),t.find(".bark-logo img").css({border:"none",height:"20px",width:"auto",display:"inline"}),t.find(".bark-reviews-stars").css({left:0,width:"100%",margin:"medium"===size?"2px 0px":""}),t.find(".bark-reviews-stars p").css({fontFamily:'"Helvetica Neue", Helvetica, Helvetica, Arial, sans-serif',color:"#133C60",fontWeight:"normal",fontSize:"18px",margin:0,textDecoration:"none"}),"large"===size&&f(".bark-reviews-stars span",t).css({fontSize:"16px",margin:"3px 0 0 5px",width:"100%",color:"#1b2c3a",verticalAlign:"middle",whiteSpace:"nowrap"}),"large"!==size&&(logo.css({marginTop:"10px",marginBottom:"0px"}),t.find(".bark-reviews-stars p").css({fontSize:"16px"})),"small"===size&&(logo.css({margin:"3px auto 4px"}),t.find(".bark-reviews-stars p").css({marginTop:"-4px",fontSize:"12px"})),this.setAttribute("title",name+" has "+nrtext+" on Bark.com")}function addGoldClubSpecificElements(t,size,sellerHashId,version){void 0===version&&(version="2.0");var container=t.find(".bark-top-container"),href=t.nodes[0].href;"3.0"===version?(container.append('<img src="http://d1w7gvu0kpf6fl.cloudfront.net/img/frontend-v2/settings/badges/bark-verified-'+size+'.png"/>'),container.find("img").css({marginTop:("large"===size?16:"medium"===size?11:6)+"px",height:("large"===size?50:"medium"===size?38:25)+"px",border:"none",display:"inline"})):(container.append('<img src="http://d1w7gvu0kpf6fl.cloudfront.net/img/frontend-v2/settings/badges/bark-verified-'+size+'.png"/>'),container.find("img").css({marginTop:("large"===size?16:"medium"===size?11:6)+"px",height:("large"===size?50:"medium"===size?40:30)+"px",border:"none",display:"inline"})),href&&t.setAttribute("href",href+"?utm_medium=referral&utm_source="+sellerHashId+"&utm_campaign=seller-pro-widget&utm_content=seller-pro-widget")}function addProSpecificElements(t,size,sellerHashId,version){void 0===version&&(version="2.0");var container=t.find(".bark-top-container"),href=t.nodes[0].href;"3.0"===version?(container.append('<img src="https://d1w7gvu0kpf6fl.cloudfront.net/img/frontend-v2/settings/badges/bark-pro-'+size+'.png"/>'),container.find("img").css({marginTop:("large"===size?16:"medium"===size?11:6)+"px",height:("large"===size?50:"medium"===size?40:30)+"px",border:"none",display:"inline"})):(container.append('<img src="https://s3-eu-west-1.amazonaws.com/eu-bark-media/bark-pro-'+size+'.png"/>'),container.find("img").css({marginTop:("large"===size?16:"medium"===size?11:6)+"px",height:("large"===size?50:"medium"===size?40:30)+"px",border:"none",display:"inline"})),href&&t.setAttribute("href",href+"?utm_medium=referral&utm_source="+sellerHashId+"&utm_campaign=seller-pro-widget&utm_content=seller-pro-widget")}function addCertificateOfExcellenceElements(t,size,sellerHashId,version,data){void 0===version&&(version="2.0");var container=t.find(".bark-top-container"),href=t.nodes[0].href,year=(data||{}).year||t.data("year")||2019;container.append('<img src="https://d18jakcjgoan9.cloudfront.net/img/badges/cert-excellence-'+year+"-"+size+'.png"/>'),container.find("img").css({width:("large"===size?248:"medium"===size?184:122)+"px",height:("large"===size?82:"medium"===size?60:43)+"px",border:"none",display:"inline"}),href&&t.setAttribute("href",href+"?utm_medium=referral&utm_source="+sellerHashId+"&utm_campaign=coe-widget&utm_content=coe-widget")}function docReady(){f(".bark-widget").each((function(){var script,t=f(this),domain=getHostnameFromCurrentName(),hrefBits=(this.pathname+("/"===this.pathname.substr(-1)?"":"/")).split("/"),id=t.data("id")||hrefBits[hrefBits.length-2],type=t.data("type")||"pro",funcName="barkBadge"+parseInt(1e6*Math.random()),version=t.data("version")||"1.0";id in cache[type]?bark.renderBadges():(cache[type][id]={},(script=document.createElement("script")).async=!0,script.src="https://"+domain+"/"+type+"-badge/"+id+"/?version="+version+"&callback=Bark.sellers."+funcName,document.getElementsByTagName("head")[0].appendChild(script),bark.sellers[funcName]=function(data){cache[type][id]=data,bark.renderBadges()})}))}bark.sellers=bark.sellers||{},bark.renderBadges=function(){f(".bark-widget").each((function(){var nameDiv,t=f(this),type=t.data("type")||"pro",hrefBits=this.pathname.split("/"),id=hrefBits[hrefBits.length-2],data=cache[type][id]||{},version=t.data("version"),imageDesc=t.data("image").split("-"),size=imageDesc[0],color=imageDesc[1],bgcolor="navy"===color?"#213344":"#F4BF3D",bocolor="navy"===color?"#1C2C3B":"#DDAD33",bosize=("small"===size?"3":"4")+"px",nameattr=t.attribute("data-name"),name=data.name||nameattr||this.innerText||"",width="large"===size?consts.BADGE_WIDTH_LARGE:"medium"===size?consts.BADGE_WIDTH_MEDIUM:consts.BADGE_WIDTH_SMALL,fontSizeKey="FONT_SIZE_"+size.toUpperCase();nameattr||this.setAttribute("data-name",name),t.html("").css({display:"block",position:"relative","font-smoothing":"subpixel-antialiased",textAlign:"center",overflow:"hidden",width:width+"px",border:"solid "+bosize+" "+bocolor,fontFamily:'"Helvetica Neue", Helvetica, Helvetica, Arial, sans-serif',textDecoration:"none"}),t.append('<div class="bark-top-container"></div>'),t.find(".bark-top-container").css({height:consts["MIN_BADGE_HEIGHT_"+size.toUpperCase()]+"px",overflow:"hidden",backgroundColor:"#FFF"}),"reviews"===type?addReviewsSpecificElements.call(this,t,size,id,data,name,version):"coe"===type?addCertificateOfExcellenceElements.call(this,t,size,id,version,data):"verified"!==type||data.disabled?"verified"!==type&&addProSpecificElements.call(this,t,size,id,version):addGoldClubSpecificElements.call(this,t,size,id,version),nameDiv=t.append('<div class="bark-review-badge-name"><span>'+name+"</span></div>").find(".bark-review-badge-name").css({color:"#FFF",width:"100%","-webkit-font-smoothing":"antialiased",padding:"10px "+("large"===size?"20px":"10px"),fontWeight:"normal",boxSizing:"border-box",textDecoration:"none",lineHeight:consts[fontSizeKey]+2+"px",fontSize:consts[fontSizeKey]+"px",textOverflow:"ellipsis",backgroundColor:bgcolor,borderTop:"solid "+bosize+" "+bocolor}),"lineClamp"in allStyles||vendorPrefix+"LineClamp"in allStyles?nameDiv.find("span").css({lineClamp:3,boxOrient:"vertical",display:"-"+vendorPrefix+"-box"}):nameDiv.find("span").css({display:"block"}),nameDiv.find("span").css({overflow:"hidden",maxHeight:3*(consts[fontSizeKey]+2)+"px"})}))},document[eventHandler](documentReadyEvent,(function(){try{if(domLoaded)return;if(domLoaded=!0,"onreadystatechange"===documentReadyEvent&&"complete"===document.readyState)return document.detachEvent("onreadystatechange",arguments.callee),void docReady();docReady()}catch(ex){console.error(ex.message),console.trace()}}))}(this);

//# sourceMappingURL=widgets-v2.24a197bed6.v2.js.map
